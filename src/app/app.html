<main class="w-full max-w-md mx-auto p-4">
  <h1 class="text-2xl font-bold text-center">Lista de tareas</h1>

  <div class="flex flex-col gap-2 border rounded-md p-4 mt-2">
    <label class="flex flex-col gap-2">
      <span class="text-xl font-bold">Agregar nueva tarea</span>
      <div class="flex flex-row items-center justify-between w-full">

        <input
          #inputTask
          type="text"
          placeholder="Agrega una nueva tarea"
          class="flex-auto border block p-2 rounded-lg border-gray-300"
          (input)="newTaskTitle.set(inputTask.value)"
          (keyup.enter)="addTask(inputTask)"
        />

        <button
          class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 ml-3 rounded disabled:bg-gray-300 disabled:cursor-not-allowed"
          [disabled]="newTaskTitle() === ''"
          (click)="addTask(inputTask)"
        >
          + Tarea
        </button>

      </div>
    </label>
  </div>


  <ul class="mt-4">
    @for (task of tasks(); track task.id) {
      <div class="flex flex-row justify-between items-center border rounded-md p-4 mt-2">
        <input
          type="checkbox"
          class="mr-2 h-4 w-4"
          [checked]="task.completed"
          (click)="toggleCompleted(task.id)"
        />
        <li class="flex-auto">{{ task.title }}</li>
        <button class="bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded">Editar</button>
        <button class="bg-red-500 ml-2 hover:bg-red-700 text-white font-bold py-2 px-4 rounded">Eliminar</button>
      </div>
      
    }
  </ul>

  <p class="mt-4">Tareas restantes: {{ remaining() }}</p>
</main>
